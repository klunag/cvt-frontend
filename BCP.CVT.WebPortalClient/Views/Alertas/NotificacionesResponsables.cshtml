@{

    ViewBag.Title1 = "Alertas";
    ViewBag.Title2 = "Notificaciones";
    ViewBag.Title3 = "Responsables de Aplicaciones";
    int idTipoResponsableDefecto = (int)ViewBag.TipoResponsableIdDefecto;
}

<div class="container">
    <div class="row gutter-xs">
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#tab1" aria-controls="tab1" role="tab" data-toggle="tab">
                    <strong>Por tipo responsable</strong>
                </a>
            </li>
            <li role="presentation">
                <a href="#tab2" aria-controls="tab2" role="tab" data-toggle="tab">
                    <strong>Por TTL/Jefe de Equipo</strong>
                </a>
            </li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="tab1">
                <div class="row gutter-xs">
                    <div class="col-xs-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="form-group">
                                        <div class="row" style="margin-top:10px;"></div>
                                        <div class="row" style="padding-left:20px; padding-right:20px;">
                                            <div class="panel panel-body text-right" style="background-color: transparent;" data-toggle="match-height">
                                                <div class="col-md-4 col-xs-8 col-sm-9">
                                                    <h5>Tipo Responsable: </h5>
                                                    <select id="cbTipoResponsable" name="cbTipoResponsable" class="form-control"></select>
                                                </div>
                                                <div class="col-md-6">
                                                    <h5>&nbsp;</h5>
                                                    <div class="text-right">
                                                        <a class="btn btn-primary btn-width-custom" href="javascript: void(0)" id="btnBuscador">
                                                            <span class="count-text">Consultar</span>
                                                        </a>
                                                        <a class="btn btn-primary" href="javascript: void(0)" id="btnProgramarNotificacion">
                                                            <span class="count-text">Programar envío</span>
                                                        </a>
                                                        <a class="btn btn-primary" href="javascript: void(0)" id="btnProgramarNotificacionCuerpo">
                                                            <span class="count-text">Configurar cuerpo</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-left:20px; padding-right:20px;">
                                            <div class="col-xs-12">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <table id="tbl-alertas" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%"
                                                               data-unique-id="Matricula"
                                                               data-detail-view="true" data-detail-formatter="detailFormatter">
                                                            <thead>
                                                                <tr>
                                                                    <th data-formatter="rowNumFormatterServer" data-valign="middle" data-align="center" data-width="30">#</th>
                                                                    <th data-field="Matricula" data-halign="center" data-valign="middle" data-align="left" data-sortable="true" data-sort-name="Matricula" data-width="150">Matrícula</th>
                                                                    <th data-field="Colaborador" data-halign="center" data-valign="middle" data-align="left" data-sortable="true" data-sort-name="Colaborador">Colaborador</th>
                                                                    <th data-formatter="exportarFormatter" data-halign="center" data-valign="middle" data-align="center" data-width="80">Opciones</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane" id="tab2">
                <div class="row gutter-xs">
                    <div class="col-xs-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="form-group">
                                        <div class="row" style="margin-top:10px;"></div>
                                        <div class="row" style="padding-left:20px; padding-right:20px;">
                                            <div class="panel panel-body text-right" style="background-color: transparent;" data-toggle="match-height">
                                                <div class="col-md-4 col-xs-8 col-sm-9">
                                                    <h5>Tipo Responsable: </h5>
                                                    <select id="cbTipoResponsableFiltro" name="cbTipoResponsableFiltro" class="form-control"></select>
                                                </div>
                                                <div class="col-md-6">
                                                    <h5>&nbsp;</h5>
                                                    <div class="text-right">
                                                        @*<a class="btn btn-primary btn-width-custom" href="javascript: void(0)" id="btnBuscador">
            <span class="count-text">Consultar</span>
        </a>*@
                                                        <a class="btn btn-primary" href="javascript: void(0)" id="btnProgramarNotificacionTTLJdE">
                                                            <span class="count-text">Programar envío</span>
                                                        </a>
                                                        <a class="btn btn-primary" href="javascript: void(0)" id="btnProgramarNotificacionCuerpoTTLJdE">
                                                            <span class="count-text">Configurar cuerpo</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-left:20px; padding-right:20px;">
                                            <div class="col-xs-12">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <table id="tbl-alertasTTL" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%"
                                                               data-unique-id="ResponsableId"
                                                               data-detail-view="true" data-detail-formatter="detailFormatterTTL">
                                                            <thead>
                                                                <tr>
                                                                    <th data-formatter="rowNumFormatter" data-valign="middle" data-align="center" data-width="30">#</th>
                                                                    @*<th data-field="Matricula" data-halign="center" data-valign="middle" data-align="left" data-sortable="true" data-sort-name="Matricula" data-width="150">Matrícula</th>
                                    <th data-field="Colaborador" data-halign="center" data-valign="middle" data-align="left" data-sortable="true" data-sort-name="Colaborador">Colaborador</th>*@
                                                                    <th data-field="Nombre" data-halign="center" data-valign="middle" data-align="left" data-sortable="true" data-sort-name="Nombre">Tipo responsable</th>
                                                                    @*<th data-formatter="exportarFormatter" data-halign="center" data-valign="middle" data-align="center" data-width="80">Exportar</th>*@
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!--Modal Add or Edit-->
    <div id="MdAddOrEditModal" tabindex="-1" role="dialog" class="modal fade">
        <div class="modal-dialog  modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="titleForm"></h4>
                </div>
                <div class="modal-body">
                    <form id="formAddOrEdit">
                        <input type="hidden" id="hdId" name="hdId" value="0" />
                        <input type="hidden" id="hdIdTipoNotificacion" name="hdIdTipoNotificacion" value="0" />
                        <input type="hidden" id="hdFlagTTLJdE" name="hdFlagTTLJdE" value="0" />

                        @*<div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">Nombre</label>
                                    <input id="txtNombre" name="txtNombre" class="form-control">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">Descripción</label>
                                    <input id="txtDescripcion" name="txtDescripcion" class="form-control">
                                </div>
                            </div>*@
                        <div class="row programar-envio">
                            <div class="col-md-6">
                                <label class="control-label">Fecha de Inicio</label>
                                <div class="input-group date" id="divFechaInicio">
                                    <input type="text" id="txtFechaInicio" name="txtFechaInicio" class="form-control programar-envio" />
                                    <span class="input-group-addon">
                                        <span class="icon icon-calendar"></span>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label>Hora de Envío<span></span></label>
                                <input id="txtHora" name="txtHora programar-envio" class="form-control" type="number" step="1" min="1" max="24">
                            </div>
                        </div>
                        <div class="row programar-envio">
                            <div class="col-md-6">
                                <label class="control-label">Buzón de Salida</label>
                                <input id="txtBuzonSalida" name="txtBuzonSalida" class="form-control programar-envio">
                            </div>

                            <div class="col-md-6">
                                <label class="control-label">Con copia a</label>
                                <input id="txtBuzonCC" name="txtBuzonCC" class="form-control programar-envio">
                            </div>
                        </div>
                        <div class="row programar-envio">
                            <div class="col-md-12">
                                <label class="control-label">Asunto:</label>
                                <input id="txtAsunto" name="txtAsunto" class="form-control programar-envio" type="text">
                            </div>
                        </div>
                        <div class="row programar-envio programar-cuerpo">
                            <div class="col-md-12">
                                <label class="control-label">Cuerpo</label>
                                <textarea id="txtCuerpo" name="txtCuerpo" class="form-control programar-envio programar-cuerpo" rows="7" style="resize:none"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button id="btnRegistrar" class="btn btn-primary" onclick="RegistrarAddOrEdit()" type="button" data-loading-text="Procesando...">Registrar</button>
                </div>
            </div>
        </div>
    </div>
    <!--Modal Add or Edit-->
    <script>
    var ID_TIPO_RESPONSABLE_DEFECTO = @idTipoResponsableDefecto;
    </script>
    <script src="~/app/notificacionResponsables.js"></script>
